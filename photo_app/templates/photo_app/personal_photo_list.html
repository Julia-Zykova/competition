{% extends 'photo_app/base.html' %}

{% load static %}
{% block content %}


<div class="container-fluid">
	<div class="d-flex justify-content-center">

		{% if page_obj.paginator.num_pages > 1 %}
		<div class="p-6"><h1 id="page-title" value="{{page_obj.number}}"> Мои фото страница {{page_obj.number}}</h1></div>
		{% else %}
		<div class="p-6"><h1 id="page-title" value="{{page_obj.number}}"> Мои фото</h1></div>
		{% endif %}
		
		<div class="p-3">
	  	</div>
	</div>
</div>


<div class="container-fluid text-center">
	<div class="row row-cols-4 gy-4" id="cardplace">
		{% for p in page_obj %}

		<div class="col-md-3">

			<div class="card" style="width: 18rem; border-color: #E5E5E5;">
				<img src="{{p.photo_small.url}}" class="card-img-top rounded" alt="..." title="{{p.description}}">

				<div class="card-body">

					<h5 class="card-title"><a class="link-offset-2 link-underline link-underline-opacity-0 text-dark bg-white" href="{% url 'detail' p.id %}">{{p.title}}</a></h5>

					<ul class="list-group list-group-flush">
						
						<li class="list-group-item">
							<p class="card-text"><small>{{p.pub_date|date:"j.m.Y"}} {{p.pub_date|time:"H:i"}}</small></p>
						</li>
					</ul>
					<div class="card-body">
                        <div class="row g-0 justify-content-center">
                            <div class="col-6 col-md-4">
                                <button disabled type="submit" name="vote" class="btn btn-outline-light" style="background-color: #028E9B;">
									<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-chat-square-heart" viewBox="0 0 16 16">
										<path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12ZM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2Z"/>
					 					<path d="M8 3.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"/>
					 				</svg>
					 				<span class="badge text-light" style="background-color: #028E9B;" id="voices">{{p.voices.all.count}}</span>
				 				</button>
                            </div>
                            
                        </div>
                    </div>
				</div>

				
			</div>
		</div>

		{% empty %}
		<h2>К сожалению не найдено ни одного фото:( Хотите добавить?</h2>
		{% endfor %}

	</div>
	<nav class="mt-4">
		<ul class="pagination justify-content-center">
			{% if page_obj.paginator.num_pages > 1 %}
			{% for p in page_obj.paginator.page_range %}			
			<li class="page-item">
			    <a class="page-link" id = "pagenum_{{p}}" href="#">{{ p }}</a>
			</li>
			{% endfor %}
			{% endif %}

		</ul>
	</nav>
			
</div>

{% endblock %}